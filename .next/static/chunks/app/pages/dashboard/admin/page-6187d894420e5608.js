(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{6349:function(e,t,a){Promise.resolve().then(a.bind(a,9537))},8360:function(e,t,a){"use strict";var l=a(7437),r=a(4446),s=a(5729);t.Z=e=>{let{isLoading:t,message:a}=e;return(0,l.jsx)(r.M,{children:t&&(0,l.jsx)(s.E.div,{className:"fixed top-0 left-0 h-[calc(100%)] w-[calc(100%)] z-50 backdrop-brightness-75 content-center grid justify-items-center",initial:{opacity:0,backdropFilter:"blur(0)"},animate:{opacity:1,backdropFilter:"blur(50px)"},exit:{opacity:0,backdropFilter:"blur(0)"},children:(0,l.jsxs)(s.E.div,{className:"p-4 w-fit min-w-[200px] h-fit bg-white/10 rounded-lg outline outline-2 outline-white/20",initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:.3},children:[(0,l.jsx)(s.E.svg,{height:"100px",width:"100px",className:" rounded-full animate-svgSpin relative mb-1 left-[calc(50%-50px)]",initial:{opacity:0,y:-500},animate:{opacity:1,y:0},exit:{opacity:0,y:500},transition:{duration:.5},children:(0,l.jsx)("circle",{cx:"50px",cy:"50px",r:"30",fill:"none",strokeLinecap:"round",stroke:"blue",strokeWidth:"5",style:{strokeDasharray:180},className:"origin-center animate-dash"})}),(0,l.jsx)(s.E.p,{className:"text-lg text-gray-400/90 text-center w-full font-medium ",children:a})]})})})}},9537:function(e,t,a){"use strict";a.d(t,{default:function(){return x}});var l=a(7437),r=a(1472),s=a(7199),d=a(8472),o=a(4446),i=a(5729),n=a(6463),c=a(2265),h=a(8061),u=a(8360),b=a(6648),p={src:"/_next/static/media/showAction.8bfff432.png",height:2e3,width:2e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEUoVMUoU8UnU8UnU8QoVMQnVMQoVMQnU8QoVMUnU8UnVMQnU8QnU8QoU8QnU8QoVMQnU8QnU8QnU8QnVMUnU8UnU8UnU8U1iELiAAAAF3RSTlMAAAAAAwMFBQcHIyMmJyc8PEFDV1deYYcJX/EAAAA9SURBVHjaLcq3EQAhEATB/T0erVX+oYKBN1XTgHwkhVAhxZjDDzv3Wns46Npb68W8qOat6S7OF3sFiJAkD2OmAsWx8OidAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},x=()=>{let e=(0,n.useRouter)(),[t,a]=(0,c.useState)({role:""}),[x,m]=(0,c.useState)([]),[j,g]=(0,c.useState)([]),[v,w]=(0,c.useState)([]),[k,y]=(0,c.useState)([]),[f,A]=(0,c.useState)(!1),[N,U]=(0,c.useState)(null),[I,D]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{if(null!=sessionStorage.getItem("loginId")){if("-1"==sessionStorage.getItem("loginId"))a(h.D);else try{var t;let l=await d.Z.get(r.Z.GetDataById+sessionStorage.getItem("loginId"));return a(l.data),(null===(t=l.data)||void 0===t?void 0:t.role)!="admin"&&"-1"!=sessionStorage.getItem("loginId")&&e.push(s.Z.LogIn),l.data}catch(e){console.log(e)}}else e.push(s.Z.LogIn)})()}),(0,c.useEffect)(()=>{let e=async()=>{try{let e=await d.Z.get(r.Z.GetAllPackages);g(e.data)}catch(e){console.log(e)}};(async()=>{try{let e=await d.Z.get(r.Z.GetAllUsers);m(e.data)}catch(e){console.log(e)}})(),e()}),(0,c.useEffect)(()=>{let e=async()=>{try{let e=await d.Z.get(r.Z.GetAllWithdrawRequests);y(e.data)}catch(e){console.log(e)}};(async()=>{try{let e=await d.Z.get(r.Z.GetAllDepositRequests);console.log(e.data),w(e.data)}catch(e){console.log(e)}})(),e()}),(0,c.useEffect)(()=>(f?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow="auto"}),[f]);let S=e=>{D(null),U(e),f||A(!0)},E=async e=>{U(null),A(!0),D(e)},R=async()=>{if(null!=N){try{await d.Z.patch(r.Z.UpdateRequestStatus+(null==N?void 0:N.depodrawId),{status:"accepted"})}catch(e){console.log(e)}A(!1)}else{try{await d.Z.patch(r.Z.UpdateRequestStatus+I.depodrawId,{status:"accepted"})}catch(e){console.log(e)}A(!1)}},P=async()=>{try{await d.Z.patch(r.Z.UpdateRequestStatus+I.depodrawId,{status:"rejected"})}catch(e){console.log(e)}A(!1)};return null!=x&&null!=j&&null!=t&&null!=v&&null!=k?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.M,{children:f&&(0,l.jsx)(i.E.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(30px)"},exit:{opacity:0,backdropFilter:"blur(0px)"},transition:{duration:.5},className:"overflow-hidden fixed z-50 border dark:border-white/20 border-black/30 rounded md:top-14 top-[70px] left-[5%] h-[90%] w-[90%] p-2",children:(0,l.jsxs)(i.E.div,{className:"border dark:bg-black/20 bg-gray-400 dark:border-white/20 border-black/30 md:w-1/2 w-full absolute bottom-0 md:bottom-[13%] md:left-1/4 left-0 rounded",initial:{opacity:0,transform:"scale(1.2)"},animate:{opacity:1,transform:"scale(1)"},exit:{opacity:0,transform:"scale(1.2)"},transition:{duration:.5},children:[(0,l.jsx)("button",{type:"button",onClick:()=>{A(!1)},className:"absolute right-1.5 top-0.5 border border-rose-700 text-center px-2 rounded my-1 text-rose-700 duration-300 hover:bg-black/20 hover:bg-rose-700 hover:text-gray-900 hover:scale-110 active:scale-100",children:"close"}),(0,l.jsx)("h1",{className:"text-center text-xl py-2 border-b border-black/30 dark:border-white/20",children:"Confirm"}),(0,l.jsx)("p",{className:"border-b border-black/30 dark:border-white/20 p-2 mb-1 text-center italic",children:"A drposit request has been made with the following details :"}),(0,l.jsxs)("div",{className:"text-center mt-2 grid grid-rows-5 gap-1 h-[35%] justify-center ",children:[(0,l.jsxs)("p",{className:"row-span-1 border border-black/30 dark:border-white/20 rounded px-4 pb-0.5",children:["User Id: ",(null==N?void 0:N.userId)==null?I.userId:N.userId]}),(0,l.jsxs)("p",{className:"row-span-1 border border-black/30 dark:border-white/20 rounded px-4 pb-0.5",children:["Phone: ",(null==N?void 0:N.phone)==null?I.phone:N.phone]}),(0,l.jsxs)("p",{className:"row-span-1 border border-black/30 dark:border-white/20 rounded px-4 pb-0.5",children:["Amount: ",(null==N?void 0:N.amount)==null?I.amount:N.amount]}),(0,l.jsxs)("p",{className:"row-span-1 border border-black/30 dark:border-white/20 rounded px-4 pb-0.5",children:["Transaction Id: ",(null==N?void 0:N.transactionId)==null?"Not Applicable":N.transactionId]}),(0,l.jsxs)("p",{className:"row-span-1 border border-black/30 dark:border-white/20 rounded px-4 pb-0.5",children:["Payment Method: ",(null==N?void 0:N.paymentMethod)==null?I.paymentMethod:N.paymentMethod]})]}),((null==N?void 0:N.status)=="pending"||(null==I?void 0:I.status)=="pending")&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("textarea",{placeholder:"Send a quick message....",className:"bg-transparent p-4 h-24 outline outline-1 dark:outline-white/20 outline-black/30 duration-300 focus:outline-4 text-center rounded relative top-4 w-[90%] left-[5%] "}),(0,l.jsx)("button",{type:"button",onClick:R,className:"relative w-[90%] left-[5%] top-4 border border-blue-700 text-center p-1 mt-4 rounded my-1 px-2 text-blue-700 duration-300 hover:bg-black/20 hover:bg-blue-700 hover:text-gray-900 hover:scale-110 active:scale-100",children:"Accept"}),(0,l.jsx)("button",{type:"button",onClick:P,className:"relative w-[90%] left-[5%] top-4 border border-rose-700 text-center p-1 rounded mb-8 mt-4 px-2 text-rose-700 duration-300 hover:bg-black/20 hover:bg-rose-700 hover:text-gray-900 hover:scale-110 active:scale-100",children:"Decline"})]}),((null==N?void 0:N.status)=="accepted"||(null==I?void 0:I.status)=="accepted"||(null==N?void 0:N.status)=="rejected"||(null==I?void 0:I.status)=="rejected")&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"text-center my-8 pt-4 underline italic px-4 font-bold text-3xl text-blue-700",children:(null==N?void 0:N.status)=="accepted"||(null==I?void 0:I.status)=="accepted"?"This request has been accepted":"This request has been rejected"}),(0,l.jsx)("button",{type:"button",onClick:()=>{A(!1)},className:"relative w-[90%] left-[5%] top-4 bottom-16 border border-blue-700 text-center p-1 mt-4 mb-8 rounded my-1 px-2 text-blue-700 duration-300 hover:bg-black/20 hover:bg-blue-700 hover:text-gray-900 hover:scale-110 active:scale-100",children:"Done"})]})]})})}),(0,l.jsxs)("div",{className:"rounded relative w-[90%] left-[5%] mt-4 overflow-auto border shadow dark:border-slate-600 border-black/30",children:[(0,l.jsx)("h1",{className:"border-b border-black/30 dark:border-white/20 text-center text-3xl pb-2 font-semibold",children:"Deposit Request"}),(0,l.jsxs)("table",{className:"table-auto min-w-full ",children:[(0,l.jsx)("thead",{className:"",children:(0,l.jsxs)("tr",{className:"h-10",children:[(0,l.jsx)("th",{className:"",children:"Id"}),(0,l.jsx)("th",{className:"",children:"User Id"}),(0,l.jsx)("th",{children:"Phone"}),(0,l.jsx)("th",{children:"Amount"}),(0,l.jsx)("th",{children:"Request Type"}),(0,l.jsx)("th",{children:"Transaction Id"}),(0,l.jsx)("th",{children:"Payment Method"}),(0,l.jsx)("th",{children:"Status"})]})}),(0,l.jsx)("tbody",{children:v.map(e=>(0,l.jsxs)("tr",{onClick:()=>{S(e)},className:"text-center border-t h-10 dark:border-white/20 border-black/30 duration-300 hover:bg-black/20 dark:hover:bg-white/20",children:[(0,l.jsx)("td",{children:null==e?void 0:e.depodrawId}),(0,l.jsx)("td",{children:null==e?void 0:e.userId}),(0,l.jsx)("td",{children:null==e?void 0:e.phone}),(0,l.jsx)("td",{children:null==e?void 0:e.amount}),(0,l.jsx)("td",{children:null==e?void 0:e.requestType}),(0,l.jsx)("td",{children:null==e?void 0:e.transactionId}),(0,l.jsx)("td",{children:null==e?void 0:e.paymentMethod}),(0,l.jsx)("td",{children:null==e?void 0:e.status})]},null==e?void 0:e.depodrawId))})]})]}),(0,l.jsxs)("div",{className:"rounded relative w-[90%] left-[5%] mt-4 overflow-auto border shadow dark:border-slate-600 border-black/30",children:[(0,l.jsx)("h1",{className:"border-b border-black/30 dark:border-white/20 text-center text-3xl pb-2 font-semibold",children:"Withdraw Request"}),(0,l.jsxs)("table",{className:"table-auto min-w-full ",children:[(0,l.jsx)("thead",{className:"",children:(0,l.jsxs)("tr",{className:"h-10",children:[(0,l.jsx)("th",{className:"",children:"Id"}),(0,l.jsx)("th",{className:"",children:"User Id"}),(0,l.jsx)("th",{children:"Phone"}),(0,l.jsx)("th",{children:"Amount"}),(0,l.jsx)("th",{children:"Request Type"}),(0,l.jsx)("th",{children:"Payment Method"}),(0,l.jsx)("th",{children:"Status"})]})}),(0,l.jsx)("tbody",{children:k.map(e=>(0,l.jsxs)("tr",{onClick:()=>{E(e)},className:"text-center border-t h-10 dark:border-white/20 border-black/30 duration-300 hover:bg-black/20 dark:hover:bg-white/20",children:[(0,l.jsx)("td",{children:null==e?void 0:e.depodrawId}),(0,l.jsx)("td",{children:null==e?void 0:e.userId}),(0,l.jsx)("td",{children:null==e?void 0:e.phone}),(0,l.jsx)("td",{children:null==e?void 0:e.amount}),(0,l.jsx)("td",{children:null==e?void 0:e.requestType}),(0,l.jsx)("td",{children:null==e?void 0:e.paymentMethod}),(0,l.jsx)("td",{children:null==e?void 0:e.status})]},null==e?void 0:e.depodrawId))})]})]}),(0,l.jsxs)("div",{className:"rounded relative w-[90%] left-[5%] mt-4 overflow-auto border shadow dark:border-slate-600 border-black/30",children:[(0,l.jsx)("h1",{className:"border-b border-black/30 dark:border-white/20 text-center text-3xl pb-2 font-semibold",children:"Admins"}),(0,l.jsxs)("table",{className:"table-auto min-w-full ",children:[(0,l.jsx)("thead",{className:"",children:(0,l.jsxs)("tr",{className:"h-10",children:[(0,l.jsx)("th",{className:"",children:"Id"}),(0,l.jsx)("th",{className:"",children:"Name"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:x.map(e=>(null==e?void 0:e.role)=="admin"&&(0,l.jsxs)("tr",{className:"text-center border-t h-10 dark:border-white/20 border-black/30 duration-300 hover:bg-black/20 dark:hover:bg-white/20",children:[(0,l.jsx)("td",{children:null==e?void 0:e.id}),(0,l.jsx)("td",{children:null==e?void 0:e.userName}),(0,l.jsx)("td",{children:null==e?void 0:e.email}),(0,l.jsx)("td",{className:"p-0 flex justify-center",children:(null==t?void 0:t.role)=="sadmin"?(0,l.jsx)("button",{className:"w-10 h-10 scale-90 rounded duration-300 hover:bg-rose-700 p-0 m-0",children:(0,l.jsx)(b.default,{src:p,alt:"",className:"scale-75"})}):(0,l.jsx)("p",{className:"text-sm text-rose-700",children:"Only Super Admin Can Modify Admin"})})]},null==e?void 0:e.id))})]})]}),(0,l.jsxs)("div",{className:"rounded relative w-[90%] left-[5%] mt-4 overflow-auto border shadow dark:border-slate-600 border-black/30",children:[(0,l.jsx)("h1",{className:"border-b border-black/30 dark:border-white/20 text-center text-3xl pb-2 font-semibold",children:"Users"}),(0,l.jsxs)("table",{className:"table-auto min-w-full ",children:[(0,l.jsx)("thead",{className:"",children:(0,l.jsxs)("tr",{className:"h-10",children:[(0,l.jsx)("th",{className:"",children:"Id"}),(0,l.jsx)("th",{className:"",children:"Name"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:x.map(e=>"user"==e.role&&(0,l.jsxs)("tr",{className:"text-center border-t h-10 dark:border-white/20 border-black/30 duration-300 hover:bg-black/20 dark:hover:bg-white/20",children:[(0,l.jsx)("td",{children:null==e?void 0:e.id}),(0,l.jsx)("td",{children:null==e?void 0:e.userName}),(0,l.jsx)("td",{children:null==e?void 0:e.email}),(0,l.jsx)("td",{className:"flex justify-center",children:(0,l.jsx)("button",{className:"w-10 h-10 scale-90 rounded duration-300 hover:bg-rose-700 p-0 m-0",children:(0,l.jsx)(b.default,{src:p,alt:"",className:"scale-75"})})})]},null==e?void 0:e.id))})]})]}),(0,l.jsxs)("div",{className:"rounded relative w-[90%] left-[5%] mt-4 overflow-auto border dark:border-slate-600 border-black/30",children:[(0,l.jsx)("h1",{className:"border-b border-black/30 dark:border-white/20 text-center text-3xl pb-2 font-semibold",children:"Packages"}),(0,l.jsxs)("table",{className:"table-auto min-w-full ",children:[(0,l.jsx)("thead",{className:"",children:(0,l.jsxs)("tr",{className:"h-10",children:[(0,l.jsx)("th",{className:"",children:"Id"}),(0,l.jsx)("th",{className:"",children:"Title"}),(0,l.jsx)("th",{children:"Duration"}),(0,l.jsx)("th",{children:"Ads/Day"}),(0,l.jsx)("th",{children:"Price"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{children:j.map(e=>(0,l.jsxs)("tr",{className:"text-center border-t h-10 dark:border-white/20 border-black/30 duration-300 hover:bg-black/20 dark:hover:bg-white/20",children:[(0,l.jsx)("td",{children:null==e?void 0:e.packagesId}),(0,l.jsx)("td",{children:null==e?void 0:e.title}),(0,l.jsx)("td",{children:null==e?void 0:e.duration}),(0,l.jsx)("td",{children:null==e?void 0:e.description}),(0,l.jsx)("td",{children:null==e?void 0:e.price}),(0,l.jsx)("td",{className:"flex justify-center",children:(0,l.jsx)("button",{className:"w-10 h-10 scale-90 rounded duration-300 hover:bg-rose-700 p-0 m-0",children:(0,l.jsx)(b.default,{src:p,alt:"",className:"scale-75"})})})]},null==e?void 0:e.packagesId))})]})]})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.Z,{isLoading:!0,message:"Loading Data..."})})}},8061:function(e,t,a){"use strict";a.d(t,{D:function(){return l}});let l={userName:"Super Admin",role:"sadmin"}},1472:function(e,t){"use strict";t.Z={IsEmailExist:"http://localhost:3333/user/isEmailExist/",Register:"http://localhost:3333/user/register",LoginAuth:"http://localhost:3333/user/loginAuth",GetAllUsers:"http://localhost:3333/user/getAllUsers",GetDataById:"http://localhost:3333/user/getDataById/",CreatePackage:"http://localhost:3333/packages/createPackage",GetAllPackages:"http://localhost:3333/packages",BuyPackage:"http://localhost:3333/packages/buy",CreateDepositRequest:"http://localhost:3333/depodraw",CreateWithdrawRequest:"http://localhost:3333/depodraw",GetAllDepositRequests:"http://localhost:3333/depodraw/deposits",GetAllWithdrawRequests:"http://localhost:3333/depodraw/withdrawals/",UpdateRequestStatus:"http://localhost:3333/depodraw/status/",CreateActivity:"http://localhost:3333/activity/createActivity",GetActivatedPackagesByUserId:"http://localhost:3333/activity/getActivatedPackagesByUserId/",UpdateRemainWatchTimesAndBalance:"http://localhost:3333/activity/updateRWTandBalance/",ChangePassword:"http://localhost:3333/user/changePassword/",PostDepodrawRequest:"http://localhost:3333/depodraw/depo",GetAllDepositRequest:"http://localhost:3333/depodraw/getAllDepoReq",PatchDepoStatus:"http://localhost:3333/depodraw/updateStatus/",PatchUserBalance:"http://localhost:3333/user/updateDepoBalance/",UploadAd:"http://localhost:3333/ads/upload",GetAdsVideos:"http://localhost:3333/ads",GetAdById:"http://localhost:3333/ads/:id",DeleteAd:"http://localhost:3333/ads/:id"}},7199:function(e,t){"use strict";t.Z={Home:"/pages/home",LogIn:"/pages/auth/login",Registration:"/pages/auth/registration",UserDashboard:"/pages/dashboard/user",UserProfile:"/pages/dashboard/user/profile",Depost:"/pages/dashboard/user/deposit",Packages:"/pages/dashboard/user/packages",AdminDashboard:"/pages/dashboard/admin",AdminProfile:"/pages/dashboard/admin/profile",BuyPackage:"/pages/dashboard/user/packages",Withdraw:"/pages/dashboard/user/withdraw"}}},function(e){e.O(0,[446,472,648,971,23,744],function(){return e(e.s=6349)}),_N_E=e.O()}]);