(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146],{3707:function(e,t,a){Promise.resolve().then(a.bind(a,7798))},8360:function(e,t,a){"use strict";var s=a(7437),o=a(4446),r=a(5729);t.Z=e=>{let{isLoading:t,message:a}=e;return(0,s.jsx)(o.M,{children:t&&(0,s.jsx)(r.E.div,{className:"fixed top-0 left-0 h-[calc(100%)] w-[calc(100%)] z-50 backdrop-brightness-75 content-center grid justify-items-center",initial:{opacity:0,backdropFilter:"blur(0)"},animate:{opacity:1,backdropFilter:"blur(50px)"},exit:{opacity:0,backdropFilter:"blur(0)"},children:(0,s.jsxs)(r.E.div,{className:"p-4 w-fit min-w-[200px] h-fit bg-white/10 rounded-lg outline outline-2 outline-white/20",initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:.3},children:[(0,s.jsx)(r.E.svg,{height:"100px",width:"100px",className:" rounded-full animate-svgSpin relative mb-1 left-[calc(50%-50px)]",initial:{opacity:0,y:-500},animate:{opacity:1,y:0},exit:{opacity:0,y:500},transition:{duration:.5},children:(0,s.jsx)("circle",{cx:"50px",cy:"50px",r:"30",fill:"none",strokeLinecap:"round",stroke:"blue",strokeWidth:"5",style:{strokeDasharray:180},className:"origin-center animate-dash"})}),(0,s.jsx)(r.E.p,{className:"text-lg text-gray-400/90 text-center w-full font-medium ",children:a})]})})})}},7798:function(e,t,a){"use strict";var s=a(7437),o=a(8360),r=a(1472),l=a(7199),i=a(8472),d=a(6463),n=a(2265);t.default=()=>{let e=(0,d.useRouter)(),[t,a]=(0,n.useState)(""),[c,h]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),[m,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let t=async()=>{var t,a;let s=await i.Z.get(r.Z.GetDataById+sessionStorage.getItem("loginId"));return(null===(t=s.data)||void 0===t?void 0:t.role)=="user"?e.push(l.Z.UserDashboard):(null===(a=s.data)||void 0===a?void 0:a.role)=="admin"&&e.push(l.Z.AdminDashboard),s.data};null!=sessionStorage.getItem("loginId")&&("-1"==sessionStorage.getItem("loginId")?e.push(l.Z.AdminDashboard):t())});let b=async(e,t)=>e?/\S+@\S+\.\S+/.test(e)?t?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+])[0-9a-zA-Z!@#$%^&*()_+]{8,}$/.test(t)?(p(""),!0):(p("Password must contain one upper case one lower case one symble and 6 character long"),!1):(p("Password is required"),!1):(p("Email is required in the correct format"),!1):(p("Email is required"),!1),x=async a=>{if(a.preventDefault(),await b(t,c)){g(!0);try{let a=await i.Z.post(r.Z.LoginAuth,{email:t,password:c});"sa@g.c"==t&&"Password@1"==c?(sessionStorage.setItem("loginId","-1"),e.push(l.Z.AdminDashboard)):null!=a.data.id?(sessionStorage.setItem("loginId","".concat(a.data.id)),"user"==a.data.role?e.push(l.Z.UserDashboard):"admin"==a.data.role?e.push(l.Z.AdminDashboard):alert("Unknown role")):(p("Credentials did not match"),g(!1))}catch(e){p("Network error"+e),g(!1)}}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{isLoading:m,message:"Loading..."}),(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("form",{onSubmit:x,className:"dark:bg-gray-900 border dark:border-white/10 border-black/30 shadow-xl dark:shadow-gray-700/10 p-6 rounded shadow-md w-96",children:[(0,s.jsx)("h2",{className:"text-2xl mb-8 text-center border-b border-white/10 pb-2 font-semibold",children:"Log In"}),u&&(0,s.jsx)("p",{className:"text-red-500 text-center text-sm mb-4",children:u}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block mb-1 font-semibold text-sm",children:"Email"}),(0,s.jsx)("input",{type:"text",id:"email",placeholder:"example@company.com",value:t,onChange:e=>a(e.target.value),className:"outline outline-1 dark:outline-white/20 outline-black/20 duration-300 focus:outline-4 bg-black/10 p-2 w-full rounded"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block mb-1 font-semibold text-sm",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",placeholder:"••••••••",value:c,onChange:e=>h(e.target.value),className:"outline outline-1 dark:outline-white/20 outline-black/20 duration-300 focus:outline-4 bg-black/10 p-2 w-full rounded"})]}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 font-semibold text-gray-100 p-2 mb-4 rounded w-full duration-300 hover:bg-blue-800",children:"Log In"}),(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("hr",{className:"flex-grow border-gray-500"}),(0,s.jsx)("span",{className:"mx-2 text-gray-500",children:"Or"}),(0,s.jsx)("hr",{className:"flex-grow border-gray-500"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{g(!0),e.push(l.Z.Registration)},className:"border dark:border-white/20 border-black/30 font-semibold p-2 mt-4 rounded w-full duration-300 dark:hover:bg-white/10 hover:bg-black/30",children:"Create Account"})]})})]})}},1472:function(e,t){"use strict";t.Z={IsEmailExist:"http://localhost:3333/user/isEmailExist/",Register:"http://localhost:3333/user/register",LoginAuth:"http://localhost:3333/user/loginAuth",GetAllUsers:"http://localhost:3333/user/getAllUsers",GetDataById:"http://localhost:3333/user/getDataById/",CreatePackage:"http://localhost:3333/packages/createPackage",GetAllPackages:"http://localhost:3333/packages",BuyPackage:"http://localhost:3333/packages/buy",CreateDepositRequest:"http://localhost:3333/depodraw",CreateWithdrawRequest:"http://localhost:3333/depodraw",GetAllDepositRequests:"http://localhost:3333/depodraw/deposits",GetAllWithdrawRequests:"http://localhost:3333/depodraw/withdrawals/",UpdateRequestStatus:"http://localhost:3333/depodraw/status/",CreateActivity:"http://localhost:3333/activity/createActivity",GetActivatedPackagesByUserId:"http://localhost:3333/activity/getActivatedPackagesByUserId/",UpdateRemainWatchTimesAndBalance:"http://localhost:3333/activity/updateRWTandBalance/",ChangePassword:"http://localhost:3333/user/changePassword/",PostDepodrawRequest:"http://localhost:3333/depodraw/depo",GetAllDepositRequest:"http://localhost:3333/depodraw/getAllDepoReq",PatchDepoStatus:"http://localhost:3333/depodraw/updateStatus/",PatchUserBalance:"http://localhost:3333/user/updateDepoBalance/",UploadAd:"http://localhost:3333/ads/upload",GetAdsVideos:"http://localhost:3333/ads",GetAdById:"http://localhost:3333/ads/:id",DeleteAd:"http://localhost:3333/ads/:id"}},7199:function(e,t){"use strict";t.Z={Home:"/pages/home",LogIn:"/pages/auth/login",Registration:"/pages/auth/registration",UserDashboard:"/pages/dashboard/user",UserProfile:"/pages/dashboard/user/profile",Depost:"/pages/dashboard/user/deposit",Packages:"/pages/dashboard/user/packages",AdminDashboard:"/pages/dashboard/admin",AdminProfile:"/pages/dashboard/admin/profile",BuyPackage:"/pages/dashboard/user/packages",Withdraw:"/pages/dashboard/user/withdraw"}}},function(e){e.O(0,[446,472,971,23,744],function(){return e(e.s=3707)}),_N_E=e.O()}]);